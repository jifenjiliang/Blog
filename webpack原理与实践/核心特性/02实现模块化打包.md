<!--
 * @Description: 使用 Webpack 实现模块化打包
 * @Autor: lijinpeng
 * @Date: 2021-03-13 20:01:27
 * @LastEditors: lijinpeng
-->

# 诉求
能够将散落的模块打包到一起；
能够编译代码中的新特性；
能够支持不同种类的前端资源模块。

前端领域最为主流的就是 Webpack、Parcel 和 Rollup

Webpack 为例：
Webpack 作为一个模块打包工具，本身就可以解决模块化代码打包的问题，将零散的 JavaScript 代码打包到一个 JS 文件中

type="module" 这种用法是 ES Modules 中提出的标准，用来区分加载的是一个普通 JS 脚本还是一个模块。

Webpack 会自动从 src/index.js 文件开始打包，然后根据代码中的模块导入操作，自动将所有用到的模块代码打包到一起

先安装 webpack 相关的 npm 包，然后使用 webpack-cli 所提供的命令行工具进行打包

# 配置 Webpack 的打包过程
```
// 引入的目的是为了标注 config 对象的类型，从而实现智能提示
// 一定记得运行 Webpack 前先注释掉这里。
import { Configuration } from 'webpack'

/**
 * @type {Configuration}
 */
```

# Webpack 工作模式

production 模式下，启动内置优化插件，自动优化打包结果，打包速度偏慢；

development 模式下，自动优化打包速度，添加一些调试过程中的辅助插件；

none 模式下，运行最原始的打包，不做任何额外处理。

# 打包结果运行原理
生成的代码其实就是一个立即执行函数，这个函数是 Webpack 工作入口（webpackBootstrap），它接收一个 modules 参数，调用时传入了一个数组
每个模块最终被包裹到了一个函数中，从而实现模块私有作用域